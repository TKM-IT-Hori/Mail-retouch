{% extends "layout.html" %} {% block content %}

<!-- 上部テキスト -->
<div class="container">
    <div class="starter-template">
        <h1>敬語校正</h1>
        <p class="lead">曖昧な敬語を直していきましょう。
            <br>文章をテキストボックスに入れて、曖昧な部分をドラッグで選択してください。</p>
    </div>
</div>


<div class="container">
    <div class="row">
        <div class="col-8">
            <form name="targetForm">
                <div class="form-group">
                    <!-- テキストエリア -->
                    <label for="textarea1"><small>テキスト</small> </label>
                    <textarea name="keigo_text" id="keigo_text" class="form-control" rows="16"
                        placeholder="文章を入力してください。" required></textarea>
                </div>
            </form>
        </div>

        <div class="col-4">
            <form action="/keigo" method="post" enctype="multipart/form-data" name=form2>
                <div class="form-group">
                    <!-- 抜き出すテキストエリア -->
                    <label for="keigosearch"><small>選択した部分を抜き出します。</small></label>
                    <textarea id="keigosearch" name="keigosearch" class="form-control" rows="0"
                        readonly></textarea>
                </div>
                <div class="form-group" style="text-align: center;">
                    <!-- 送信ボタン -->
                    <input name="keigopush" type="submit" class="btn btn-dark" value="&#9661;">
                </div>
                <div class="form-group" style="text-align: center;">
                    <div class="dropdown">
                        <!-- ドロップダウン -->
                        <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2"
                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            {{ dropdownText }}
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                            <button class="dropdown-item" type="button">Action</button>
                            <button class="dropdown-item" type="button">Another action</button>
                            <button class="dropdown-item" type="button">Something else here</button>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>


<!-- 選択抜き出し -->
<script>
    document.onselectionchange = function () {
        var selText = window.getSelection().toString();
        // console.log(selText)
        // $("#keigosearch").text(selText);
        document.getElementById("keigosearch").textContent = selText;
    }
</script>

<script>
{
    var keigo = {{keigo}};
}
</script>

{% endblock %}